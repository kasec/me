<!DOCTYPE html>
<html lang="en" data-head-attrs="">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite Setup with Vanilla JS.</title>

    <link rel="author" href="https://twitter.com/azaelfernandez" />
    <!-- <meta name="keywords" content="{{keywords}}"> -->
    <!-- <meta property="og:url" content="{{pageUrl}}">
  <meta property="og:image" content="{{imageUrl}}">
  <meta property="og:description" content="{{description}}">
  <meta property="og:title" content="{{pageTitle}}">
  <meta property="og:site_name" content="{{siteTitle}}">
  <meta property="og:see_also" content="{{homepageUrl}}">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="{{pageUrl}}">
  <meta name="twitter:title" content="{{pageTitle}}">
  <meta name="twitter:description" content="{{description}}">
  <meta name="twitter:image" content="{{imageUrl}}"> -->

    <link rel="icon" href="/assets/logo.1a8473b1.svg" />

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600;700&amp;display=swap"
      rel="stylesheet"
    />
    <script async="" src="https://cdn.splitbee.io/sb.js"></script>
    <!-- <script data-ad-client="ca-pub-3566337185147445" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->
    <script
      type="module"
      async=""
      crossorigin=""
      src="/assets/app.11cc08ed.js"
    ></script>
    <link rel="modulepreload" href="/assets/vendor.fb03be93.js" />
    <link rel="stylesheet" href="/assets/app.850fc071.css" />
    <link rel="modulepreload" crossorigin="" href="/assets/blog.80a2c51c.js" />
    <link rel="stylesheet" href="/assets/blog.b250a020.css" />
    <link
      rel="modulepreload"
      crossorigin=""
      href="/assets/vite-vanilla-js.e0d9c73a.js"
    />
    <script
      async="true"
      src="https://platform.twitter.com/widgets.js"
      charset="utf-8"
    ></script>
    <meta
      name="description"
      content="Let's create a vite setup first with vanilla js(fix in the end)."
    />
    <meta property="og:title" content="Vite Setup with Vanilla JS." />
    <meta name="head:count" content="3" />
  </head>
  <body data-head-attrs="">
    <div id="app" data-server-rendered="true">
      <!--[-->
      <nav data-v-0c28eda4="">
        <a class="home-button" href="/" data-v-0c28eda4=""
          ><img
            class="logo-image"
            src="/assets/logo.1a8473b1.svg"
            alt="home"
            data-v-0c28eda4=""
        /></a>
        <div class="button-stack" data-v-0c28eda4="">
          <!--[--><a href="/projects" class="link-button" data-v-0c28eda4=""
            >Projects</a
          ><a
            href="/blog"
            class="router-link-active link-button"
            data-v-0c28eda4=""
            >Blog</a
          ><a href="/about-me" class="link-button" data-v-0c28eda4=""
            >About Me</a
          ><!--]-->
        </div>
      </nav>
      <main>
        <!---->
        <div class="markdown-body">
          <h1>Vite Setup with Vanilla JS</h1>
          <h2>
            We’re going to set up Vite with vanilla JS to know how it works,
            create function abstractions, dynamic imports, etc.
          </h2>
          <h2>Introduction</h2>
          <p>
            If it is the first time you hear about
            <a href="https://vitejs.dev/">Vite</a>, it is a
            <em>dev web server</em>, hence you can run your html files with
            <em>hot module loading</em>, supports <code>jsx</code> and
            <code>ts</code> out of the box, also with
            <a href="http://rollupjs.org/guide/en/">Rollup</a> integration, so
            with this tool you can bundle your web projects too.
          </p>
          <p>
            Now I’m going to begin with a minimal configuration to start with
            vite environment, just following the next steps.
          </p>
          <h2>Steps to follow.</h2>
          <h3>Initialize your project.</h3>
          <ol>
            <li>Create our directory <code>vite-react-twnd</code></li>
            <li>Open your Editor.</li>
            <li>
              I will be working with <strong>yarn</strong> instead
              <strong>npm</strong>, but you can use whatever you want.
            </li>
            <li>Initialize your JS application <code>yarn init</code>.</li>
            <li>
              Install <strong>vite</strong> devDependency
              <code>yarn add -D vite</code>.
            </li>
            <li>
              Add in <code>package.json</code> in something similar to this.
              <pre
                class="language-json"
              ><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ...
    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"vite"</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
          </ol>
          <h3>Add files from scratch without using vite templates.</h3>
          <h4>Add the entry file(<code>index.html</code>).</h4>
          <pre
            class="language-html"
          ><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/src/main.jsx<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre>
          <blockquote>
            <p>
              As you can see <em>vite</em> supports jsx files in browser side,
              if you don’t believe it, try it yourselft without vite.
            </p>
          </blockquote>
          <h4>Create <code>src/main.jsx</code> file.</h4>
          <pre
            class="language-js"
          ><code class="language-js"><span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p&gt;Hello World!!!&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span> 
<span class="token keyword">const</span> add_content_button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"add-content"</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> RootElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>

<span class="token comment">// render element in dom</span>
RootElement<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> App
</code></pre>
          <h4>
            Create abstraction/function to inject html in element, adding jsdoc.
          </h4>
          <p>
            Now let’s create a function that injects content into the DOM
            element.
          </p>
          <pre
            class="language-js"
          ><code class="language-js">    <span class="token comment">// create-element.js</span>
    <span class="token comment">/**
    * @description Remplaza el html de un elemento dato
    * @param element Es un HTMLElement
    * @param content Es un string con/sin html elementos dentro
    */</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentElement<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> currentElement<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> content
    <span class="token punctuation">}</span>
</code></pre>
          <p>
            As you see in snippet from above, I’ve created a simple function
            just get two params, a <code>DOM</code> element and string content,
            which will be rendered in DOM element. Also, I’ve added a
            <em>JSDOC</em> description, now when you try to use this function
            you will see a popup similar to the below image.
          </p>
          <p>
            <img
              src="/assets/js-doc-implementation.8e6878d3.png"
              alt="JS Doc Implementation seeing in action"
              title="JS Doc Implementation seeing in action"
            />
          </p>
          <h4>Following we are going to edit our <code>main.js</code> file</h4>
          <pre
            class="language-js"
          ><code class="language-js">    <span class="token keyword">import</span> createElement <span class="token keyword">from</span> <span class="token string">'./create-element.js'</span>

    <span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p&gt;Hello World!!!&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span> 
    <span class="token keyword">const</span> add_content_button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"add-content"</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> RootElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>

    <span class="token function">createElement</span><span class="token punctuation">(</span>RootElement<span class="token punctuation">,</span> App<span class="token punctuation">)</span>
</code></pre>
          <blockquote>
            <p>
              If you want to run the above code, it does not works, the reason,
              regular <em>script</em> does not support imports declarations, try
              to add <code>type="module"</code> in the script tag.
              <img
                src="/assets/type-module.470b9b6a.gif"
                alt="Implementing Importation with script files"
                title="Implementing importation with script files"
              />
            </p>
          </blockquote>
          <p>
            Now our script is cleaner than before. Following I want to introduce
            with <strong>dynamic imports</strong>, everything what I need will
            be loaded on demand and not in the beginning, the main advantage of
            it is that you reduce your initial load.
          </p>
          <pre class="language-js"><code class="language-js">
<span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p&gt;Hello World!!!&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span> 
<span class="token keyword">const</span> add_content_button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"add-content"</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> RootElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>

add_content_button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./create-element.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span>RootElement<span class="token punctuation">,</span> App<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre>
          <p>
            The above modification to <code>main.js</code> render the element
            until the button event is triggered, hence
            <code>create-element.js</code> file is loaded at that moment not
            before.
          </p>
          <h2>Overview</h2>
          <p>
            I see a lot of topics in the post, some are really important in web
            development, as <em>function abstractions</em> and
            <em>dynamic importation</em>, also we saw how to start with vite and
            its really fast dev server. I hope this information was really
            helpful. Maybe I’m using some antipatterns if it is the case please
            contact me(below are my social links).
          </p>
          <blockquote>
            <p>
              Everything here is just personal expererience, if you want to
              create your own perception about it, I would recommend follow the
              links what I’ve post, ask information in forums, blogs and
              communicate it with us.
            </p>
          </blockquote>
        </div>
      </main>
      <footer title="Tap the footer to fold or unfold" data-v-dc8c0fae="">
        <input type="checkbox" id="expandable" data-v-dc8c0fae="" /><label
          class="wrapper"
          for="expandable"
          data-v-dc8c0fae=""
          ><div class="paragraph" data-v-dc8c0fae="">
            <p class="foldeable main-text" data-v-dc8c0fae="">
              <b data-v-dc8c0fae="">Thanks for visiting the site!</b>
            </p>
            <p class="main-text -small" data-v-dc8c0fae="">
              Made with ❤️ in Nombre de Dios, Dgo.
            </p>
            <p class="foldeable main-text -small" data-v-dc8c0fae="">
              If you want to find me elsewhere on the web, here’s where I hang
              out.
            </p>
          </div>
          <div class="foldeable net-icons" data-v-dc8c0fae="">
            <a
              class="net-icon"
              href="https://www.instagram.com/gazaelofficial/"
              target="_blank"
              data-v-dc8c0fae=""
              ><img
                src="/assets/instagram.69fd5da2.png"
                alt="instagram picture"
                data-v-dc8c0fae="" /></a
            ><a
              href="https://twitter.com/azaelfernandez"
              target="_blank"
              class="net-icon"
              data-v-dc8c0fae=""
              ><img
                src="/assets/twitter.b8e4cb07.webp"
                alt="twitter picture"
                data-v-dc8c0fae="" /></a
            ><a
              class="net-icon"
              href="https://www.linkedin.com/in/gelacio-azael-f-a3694681"
              target="_blank"
              data-v-dc8c0fae=""
              ><img
                src="/assets/linkedin.f075391e.png"
                alt="linkedin picture"
                data-v-dc8c0fae="" /></a
            ><a
              href="https://open.spotify.com/user/1224585085?si=1_dzSXyqQ-ikeAGb2biZxg"
              target="_blank"
              class="net-icon"
              data-v-dc8c0fae=""
              ><img
                src="/assets/spotify.2d6619f9.png"
                alt="spotify picture"
                data-v-dc8c0fae="" /></a
            ><a
              class="net-icon"
              href="https://medium.com/@gazaelfernandez"
              target="_blank"
              data-v-dc8c0fae=""
              ><img
                src="/assets/medium.e2b84950.png"
                alt="medium picture"
                data-v-dc8c0fae=""
            /></a>
          </div>
          <div class="foldeable net-icons" data-v-dc8c0fae="">
            <a
              class="net-icon"
              href="https://github.com/kasec"
              target="_blank"
              data-v-dc8c0fae=""
              ><img
                src="/assets/github.91200acc.svg"
                alt="github picture"
                data-v-dc8c0fae="" /></a
            ><a
              class="net-icon"
              href="https://gitlab.com/galfan"
              target="_blank"
              data-v-dc8c0fae=""
              ><img
                src="/assets/gitlab.72257833.webp"
                alt="gitlab picture"
                data-v-dc8c0fae=""
            /></a>
          </div>
          <p class="main-text -small" data-v-dc8c0fae="">
            © 2020-present Gelacio Azael Fernandez Aldava. All Rights Reserved.
          </p></label
        >
      </footer>
      <!--]-->
    </div>
  </body>
</html>
